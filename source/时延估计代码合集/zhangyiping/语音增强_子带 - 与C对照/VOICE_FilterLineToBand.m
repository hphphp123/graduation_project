function [mel] = VOICE_FilterLineToBand(line)

g_aswBandTable=  ...
[...
	0,     0,     0,      0,    1,     1,      1,      2,      2,  ...
	2,     3,     3,      3,    4,     4,      4,      5,      5,  ...
	5,     5,     6,      6,    6,     7,      7,      7,      7,  ...
	8,     8,     8,      8,    9,     9,      9,      9,      10, ...
	10,    10,    10,    11,    11,    11,     11,     11,     12,  ...
	12,    12,    12,    12,    13,    13,     13,     13,     13,  ...
	13,    14,    14,    14,    14,    14,     14,     15,     15,  ...
	15,    15,    15,    15,    15,    15,     16,     16,     16,  ...
	16,    16,    16,    16,    16,    17,     17,     17,     17,  ...
	17,    17,    17,    17,    17,    18,     18,     18,     18,  ...
	18,    18,    18,    18,    18,    18,     19,     19,     19,  ...
	19,    19,    19,    19,    19,    19,     19,     19,     19,  ...
	19,    20,    20,    20,    20,    20,     20,     20,     20,  ...
	20,    20,    20,    20,    20,    20,     21,     21,     21,  ...
	21,    21,    21,    21,    21,    21,     21,     21,     21,  ...
	21,    21,    21,    21,    21,    22,     22,     22,     22,  ...
	22,    22,    22,    22,    22,    22,     22,     22,     22,  ...
	22,    22,    22,    22,    22,    22,     22 ...
];

g_afBandFilter = ...
[ ...
	1.0000000,    0.67549396,    0.35113883,    0.02715343,    0.70375472,    0.38115686,    0.05957084, ...
	0.73920292,   0.42025453,    0.10292119,    0.78739190,    0.47384894,    0.16246665,    0.85341126, ...
	0.54684049,   0.24290341,    0.94174039,    0.64348161,    0.34824836,    0.05615222,    0.76729614, ...
	0.48177248,   0.19966459,    0.92104769,    0.64598626,    0.37453717,    0.10674906,    0.84266180, ...
	0.58230758,   0.32571036,    0.07288920,    0.82385290,    0.57860780,    0.33715069,    0.09947526, ...
	0.86556828,   0.63541269,    0.40898639,    0.18626273,    0.96721333,    0.75180286,    0.53999591, ...
	0.33175188,   0.12702930,    0.92578501,    0.72797108,    0.53354073,    0.34244335,    0.15462840, ...
	0.97004414,   0.78863734,    0.61035383,    0.43514162,    0.26294392,    0.09370762,    0.92737710, ...
	0.76389676,   0.60321230,    0.44527054,    0.29001468,    0.13739288,    0.98735076,    0.83983397, ...
	0.69479197,   0.55217296,    0.41192508,    0.27399784,    0.13834184,    0.00490784,    0.87364787, ...
	0.74451506,   0.61746144,    0.49244279,    0.36941230,    0.24832827,    0.12914646,    0.01182514, ...
	0.89632142,   0.78259605,    0.67060858,    0.56031984,    0.45169318,    0.34469068,    0.23927569, ...
	0.13541281,   0.03306794,    0.93220568,    0.83279312,    0.73479867,    0.63819087,    0.54293793, ...
	0.44900960,   0.35637683,    0.26501054,    0.17488283,    0.08596605,    0.99823481,    0.91166008, ...
	0.82621914,   0.74188662,    0.65863734,    0.57644844,    0.49529481,    0.41515732,    0.33601201, ...
	0.25783616,   0.18061203,    0.10431695,    0.02893060,    0.95443535,    0.88081092,    0.80804092, ...
	0.73610389,   0.66498458,    0.59466541,    0.52512980,    0.45636147,    0.38834387,    0.32106066, ...
	0.25449914,   0.18864286,    0.12347800,    0.05898934,    0.99516428,    0.93198884,    0.86945039, ...
	0.80753636,   0.74623412,    0.68552971,    0.62541425,    0.56587517,    0.50689983,    0.44847804, ...
	0.39059979,   0.33325237,    0.27642822,    0.22011721,    0.16430676,    0.10898924,    0.05415457, ...
	0.99979758,   0.94590330,    0.89246649,    0.83947712,    0.78693020,    0.73481297,    0.68312287, ...
	0.63184744,   0.58098149,    0.53051496,    0.48044533,    0.43076497,    0.38146377,    0.33253676, ...
	0.28397620,   0.23577970,    0.18793714,    0.14044338,    0.09329342,    0.04647970        ...         
];

mel = zeros(24,1);

for i=1:1:160
	id = g_aswBandTable(i)+1;
	mel(id) = mel(id) + g_afBandFilter(i) * line(i);
	id = id + 1;
	mel(id) = mel(id) + (1-g_afBandFilter(i)) * line(i);
end

scaling = zeros(24,1);

for i=1:1:160
    id = g_aswBandTable(i)+1;
	scaling(id) = scaling(id) + g_afBandFilter(i);
	id = id+1;
	scaling(id) = scaling(id) + (1-g_afBandFilter(i));
end

mel = mel./scaling;




